<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <docs>https://blogs.law.harvard.edu/tech/rss</docs>
    <title>Metrolyrics on Victor Toso</title>
    <link>http://victortoso.com/tags/metrolyrics/</link>
    <description>Recent content in Metrolyrics on Victor Toso</description>
    <ttl>1440</ttl>
    <generator>Hugo 0.55.0-DEV</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 21 Sep 2013 00:34:00 -0300</lastBuildDate>
    
      <atom:link href="http://victortoso.com/tags/metrolyrics/index.xml" rel="self" type="application/rss+xml" />
    
    
      <item>
        <title>GSoC last week, GNOME final report! :)</title>
        <link>http://victortoso.com/blog/1307/</link>
        <pubDate>Sat, 21 Sep 2013 00:34:00 -0300</pubDate>
        <guid>http://victortoso.com/blog/1307/</guid>
        <description>It&amp;rsquo;s been a while since my last post just after GUADEC. I&amp;rsquo;ve lost some time in August due moving to a new place in Campinas with two friends of mine. It was three weeks ago and I&amp;rsquo;m still feeling tired (I&amp;rsquo;m taking some time to get used with this new place).
Since then, I&amp;rsquo;m working on grilo-plugins and this post is all about what I&amp;rsquo;ve accomplished and what are the next steps after GSoC.</description>
        <content:encoded><![CDATA[ It&amp;rsquo;s been a while since my last post just after GUADEC. I&amp;rsquo;ve lost some time in August due moving to a new place in Campinas with two friends of mine. It was three weeks ago and I&amp;rsquo;m still feeling tired (I&amp;rsquo;m taking some time to get used with this new place).
Since then, I&amp;rsquo;m working on grilo-plugins and this post is all about what I&amp;rsquo;ve accomplished and what are the next steps after GSoC.
(The post is bigger then usual so&amp;hellip; grab a cup of coffee !) As I told before, Grilo has some commands that are translated to the source like Search and Browse operations. Good part of my project was translating this commands from Grilo to the Lua source and the result of this work was the lua-factory plugin.
The subset of commands available to Lua sources are: Search, Browse, Query, Resolve, May Resolve, Store and Remove. I&amp;rsquo;ve developed two Lua sources that implement those commands besides the last two (Store and Remove) due a library dependency that will be commented bellow.
Those Lua sources are Metrolyrics and Flickr which already exists as C source.
Due the limitations of the standards libraries of Lua and the need of interaction with Grilo itself the lua library was created. This is a set of lua modules that are helpful for the developers. Those modules could be wrappers of C librarys or custom functions.
For instance, to be able to interact with Flickr web service a wrapper of oauth library was created;
And all this were just the first steps;
Current issues that should be improved The main goal of the GSoC project was being able to write plugins with Lua and them should be transparent to Grilo, making no difference between a C or Lua source. I feel that was accomplished but no without problems, lets check some of them 1:
 The annoying userdata: To perform the callback from Lua source to the Application, we need to store the userdata passed from lua-factory somehow. There are a couple of ways of doing it but I didn&amp;rsquo;t made it work before GUADEC and it was kind of low priority after; For instance, the Search operation in Lua should be a function called grl_source_search() wich have two parameters: (1) a Table with the data that the functions need; (2) An userdata which is a pointer to a structure in C (which is no useful for Lua code); A better approach is storing this in the Lua stack, hiding from lua code;
 Improving the GrlNet library with the possibility to POST content to the web. This was the reason that I didn&amp;rsquo;t implement Store and Remove in the Lua Flickr source :(
 A better callback implementation (or a totally different one). This is one of the topics I talked with Juan in GUADEC and this could actually be expanded to Grilo itself so, I&amp;rsquo;ll keep it to another post;
 More sources! In order to be sure that this code is trustable a few more sources are needed; They will be implemented after the two first topics! 2)
  The last week of GSoC Period This week I&amp;rsquo;m not writing much code but trying to make a useful documentation to help other developers.
But as we can see in google&amp;rsquo;s timeline, next week I&amp;rsquo;ll be submitting the source code I&amp;rsquo;ve developed so far.
It will be the last week of GSoC but not my last in Grilo or in this project. Hopefully, I&amp;rsquo;ll have a few more improvements in the end of October!
A big thanks to Juan for all the feedback, help and insights! I&amp;rsquo;ve made big steps these last three months and you help me out everytime :)
Final considerations I&amp;rsquo;ve enjoyed a lot this period! I&amp;rsquo;ve learnt a lot! I&amp;rsquo;ve met amazing people! I&amp;rsquo;ve traveled more then 10&amp;rsquo;000Km to a beautiful city to attend a super conference! I&amp;rsquo;ve learnt Lua (and loving it!)
I&amp;rsquo;m lucky. Thanks to GNOME and Google for that!
Wow, you made it till here. You can reclaim a beer in the next GUADEC!
Did you know ? Grilo is a type of bug in Brazil ? A Cricket !
 If the reader see more problems not listed, feel free to comment it! ↩ If the reader want to see a source implemented to Grilo, tell me! I&amp;rsquo;m kind of building a small list :)
↩   ]]></content:encoded>
      </item>
    
      <item>
        <title>The unpredictable, GSoC report and next steps</title>
        <link>http://victortoso.com/blog/1305/</link>
        <pubDate>Wed, 17 Jul 2013 22:56:00 -0300</pubDate>
        <guid>http://victortoso.com/blog/1305/</guid>
        <description>Oh boy, there are things that can slow you down. It&amp;rsquo;s been three weeks since my last post, in this short period of time I had a car accident ( I&amp;rsquo;m 100% alright! ), one root canal treatment (with a good dose of pain), my girlfriend moved to another city&amp;hellip; Oh well, too many headaches in three weeks!
But when I was in good mood (or healthy enough) here I was, in front of this screen trying to make good code to Grilo&amp;hellip; and I like the achievements so far.</description>
        <content:encoded><![CDATA[Oh boy, there are things that can slow you down. It&amp;rsquo;s been three weeks since my last post, in this short period of time I had a car accident ( I&amp;rsquo;m 100% alright! ), one root canal treatment (with a good dose of pain), my girlfriend moved to another city&amp;hellip; Oh well, too many headaches in three weeks!
But when I was in good mood (or healthy enough) here I was, in front of this screen trying to make good code to Grilo&amp;hellip; and I like the achievements so far. Lets take a look.
I started to implement the Metrolyrics plugin before writing any C code to Grilo in order to have a lua-based plugin to use. A lot of this plugin has changed to work with lua-factory. For those who don&amp;rsquo;t remember, lua-factory is part of grilo-plugins, and it is the glue-code in charge to load-and-use the lua-plugins.
In this moment, we can use the Search, Browse, Query and Resolve operations from Grilo to this lua-plugin.
As the lua code needs some help from C to perform a few operations, lua-library was created to be a module to lua. This module has two functions implemented: Fetch, to perform async fetch from web and Callback, to return the content to the application.
A lot has to be done yet. Hopefully without any personal headache :)
For instance:
 Store and Remove operations must be implemented in lua-factory; Log and Error functions to the lua-library; Better care with user configs, metadata-keys Solving some problems with UTF-8 chars  I will be writing a new lua-plugin this week and I&amp;rsquo;m trying to choose between Soundcloud or Last.fm. Both have the necessary features to be implemented that Metrolyrics lacks for Grilo.
Well, I intend to make my next post in Brno before GUADEC and another post after with much more GNOMExperience&amp;hellip;
]]></content:encoded>
      </item>
    
      <item>
        <title>Lua, Lyrics and GUADEC</title>
        <link>http://victortoso.com/blog/1303/</link>
        <pubDate>Sun, 09 Jun 2013 03:01:00 -0300</pubDate>
        <guid>http://victortoso.com/blog/1303/</guid>
        <description>First of all, as a good beginner in blogging I have promised that
I&#39;ll make a proper introducing of the project later this week  which I did not. Sorry for that. I hope to do it soon.
I&amp;rsquo;ve been studying Lua since last weekend with the good guidance of the Programming in Lua (written by Roberto Ierusalimschy as a way to improve my lua skills. Actually, before starting reading this book I thought my knowledge of lua was _[ok]() because it is easy to understand and make some code.</description>
        <content:encoded><![CDATA[First of all, as a good beginner in blogging I have promised that
I&#39;ll make a proper introducing of the project later this week  which I did not. Sorry for that. I hope to do it soon.
I&amp;rsquo;ve been studying Lua since last weekend with the good guidance of the Programming in Lua (written by Roberto Ierusalimschy as a way to improve my lua skills. Actually, before starting reading this book I thought my knowledge of lua was _[ok]() because it is easy to understand and make some code. Naive!
Lua is simple but we can do a lot with it. The book is helping me to really understand how powerful Lua can be. Actually, I don&amp;rsquo;t think that all I&amp;rsquo;m learning is necessary to implement plugins. I keep studying because I&amp;rsquo;m enjoying Lua. :)
I&amp;rsquo;ve started the lua-plugin that I&amp;rsquo;ll be using in the next steps of my GSoC project. It&amp;rsquo;ll be about Lyrics, using an available API of Metrolyrics. This plugin will help me for the next 4 weeks or so with a subset of Grilo functions.
Good news is that I&amp;rsquo;ll attend to GUADEC in Brno, Czech Republic in August. It will be an amazing trip and I&amp;rsquo;ll hopefully meet some of the people that helped me to achieve all this.
]]></content:encoded>
      </item>
    
  </channel>
</rss>
